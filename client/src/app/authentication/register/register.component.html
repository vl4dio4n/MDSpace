<mat-card class="register-card">
    <mat-card-title class="register-card-title">Register</mat-card-title>

    <mat-card-content class="register-card-content">
        <form [formGroup]="registerForm" (submit)="onSubmit()">
            <mat-form-field appearance="fill">
                <mat-label>Username</mat-label>
                <input matInput formControlName="username">
                <mat-error *ngIf="registerForm.get('username')?.invalid && (registerForm.get('username')?.dirty || registerForm.get('username')?.touched)">
                    Username is required.
                </mat-error>
            </mat-form-field>
    
            <mat-form-field appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" type="email">
                <mat-error *ngIf="registerForm.get('email')?.invalid && (registerForm.get('email')?.dirty || registerForm.get('email')?.touched)">
                    Please provide a valid email.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Password</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error *ngIf="registerForm.get('password')?.invalid && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)">
                    Password is required.
                </mat-error>
            </mat-form-field>
          
            <mat-form-field appearance="fill">
                <mat-label>Confirm Password</mat-label>
                <input matInput type="password" formControlName="confirmPassword">
                <mat-error *ngIf="registerForm.errors?.['passwordMismatch'] && (registerForm.get('confirmPassword')?.dirty || registerForm.get('confirmPassword')?.touched)">
                    Passwords doesn't match.
                </mat-error>
            </mat-form-field>

            <mat-form-field class="example-full-width">
                <mat-label>About me</mat-label>
                <textarea matInput placeholder="There isn't much to tell..." formControlName="description"></textarea>
            </mat-form-field>

            <mat-error *ngIf="error" style="margin-bottom: 10px;">{{error.message}}</mat-error>

            <div class="button-container">
                <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid">Register</button>
            </div>
            <div class="button-container">
                <button mat-raised-button color="accent" (click)="back()">Back</button>
            </div>

        </form>
    </mat-card-content>
</mat-card>